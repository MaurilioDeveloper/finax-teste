<meta charset="UTF-8">
<div class="tab-pane">
	<div class="tab-content">
		<div class="form-group">
			<div class="panel panel-default">
				<div class="panel-body">
					
					<div class="col-lg-12 col-md-12">
						<div class="row">
						
							<div class="panel panel-default" ng-if="!papeisFundoCtrl.fundosRelacionadas.length">
								<div class="panel-heading" ng-click="hideFilter = !hideFilter"
									style="cursor: pointer;">
									Não há registros encontrados.
								</div>
							</div>
						
							<div class="panel panel-default" ng-repeat="relacionada in papeisFundoCtrl.relacionadas | unique: 'id.papel'">
								<div class="panel-heading" ng-click="hideFilter = !hideFilter"
									style="cursor: pointer;">
									<span class="glyphicon glyphicon-plus" ng-show="!hideFilter"></span>
									<span class="glyphicon glyphicon-minus" ng-show="hideFilter"></span>
									{{relacionada.id.papel.descricao}} - {{filtered.length}} Fundo{{filtered.length > 1 ? 's' : ''}}
								</div>
								<div collapse="!hideFilter">
									<div class="panel-body">
										<div class="col-lg-8 col-md-8">
											<table class="table table-striped" style="margin-top: 15px">
												<thead>
													<th>Nome do Fundo:</th>
													<th>CNPJ do Fundo:</th>
												</thead>
												<tbody>
													<tr ng-if="!papeisFundoCtrl.fundosRelacionadas.length">
														<td colspan="3">Não há registros encontrados.</td>
													</tr>
													<tr ng-repeat="fundoRelacionada in filtered = (papeisFundoCtrl.relacionadas | filter:{ id: {papel : {descricao: relacionada.id.papel.descricao}}})">
														<td>{{fundoRelacionada.id.pessoa.nomeRazao}}</td>
														<td>{{fundoRelacionada.id.pessoa.identificador | cpfcnpj: fundoRelacionada.id.pessoa.tipoPessoa}}</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
							
						</div>
					</div>
						
				</div>
			</div>
		</div>
	</div>
</div>